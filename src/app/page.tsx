'use client'
import { FormEvent, useState } from 'react';
import {Accordion, AccordionItem} from "@nextui-org/react";

interface Posibel {
  map(arg0: (data: string, num: number) => import("react").JSX.Element): import("react").ReactNode;
  "3": string[];
  "4": string[];
  "5": string[];
}

export default function Home() {
  const [result, setResult] = useState('');
  const [words, setWords] = useState<Posibel[]>([]);

  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()
 
    const formData = new FormData(event.currentTarget)
    const response = await fetch('/generate', {
      method: 'POST',
      body: JSON.stringify(Object.fromEntries(formData)),
    })
 
    // Handle response if necessary
    const data = await response.json()
    if(data.error != true){
      setResult('yes')
      setWords(data.possible)
    }else{
      setResult('')
    }
    // ...
  }
  return (
    <main className="bg-black">
    <div className='bg-black h-screen flex items-center justify-center'>
        <div className="rounded shadow-md w-full">
        <header className="flex items-center justify-center h-10 mb-6">
    <svg width={250} height={100} viewBox="0 0 350 71">
    <defs id="SvgjsDefs1329" />
    <g id="SvgjsG1330" transform="matrix(1,0,0,1,0,0)" fill="#fcfcfc">
      <rect y={0} height={1} width={1} opacity={0} />
      <rect y={66} width={350} height={5} />
    </g>
    <g id="SvgjsG1331" transform="matrix(1.1593925118051547,0,0,1.1593925118051547,-1.3737067443596527,7.1944632494773355)" fill="#fcfcfc">
      <path d="M44.6 12 c0.52 0 0.64 1.28 0.12 1.36 c-1.6 0.24 -2.84 0.84 -4.16 4.24 l-6.04 15.68 c-1.28 3.32 -1.92 5.16 -1.92 6.72 c0 0.24 -2.8 0.88 -2.92 0.6 l-6.28 -16 l-3.76 8.68 c-1.44 3.32 -1.92 5.12 -1.92 6.72 c0 0.24 -2.84 0.88 -2.96 0.6 l-9.12 -22.96 c-1.36 -3.44 -2.56 -4.04 -4.12 -4.28 c-0.52 -0.08 -0.4 -1.36 0.12 -1.36 l10.4 0 c0.52 0 0.6 1.28 0.12 1.36 c-1.84 0.32 -2.8 1.16 -1.6 4.24 l6.32 16.32 l4.08 -9.44 c0.92 -2.12 1.04 -3.4 -0.04 -6.16 c-1.48 -3.8 -2.52 -4.68 -3.56 -4.96 c-0.44 -0.12 -0.4 -1.36 0.12 -1.36 l7.96 0 c0.4 0 0.52 0.12 0.52 0.32 c0 0.52 -1.76 1.76 -0.4 5.28 l6.16 16 l6.08 -16 c1.32 -3.44 0 -3.88 -1.92 -4.24 c-0.44 -0.08 -0.36 -1.36 0.12 -1.36 l8.6 0 z M55.81 40.64 c-5.56 0 -9.72 -4 -9.72 -9.8 c0 -5.64 4 -10.16 9.88 -10.16 c5.56 0 9.72 4 9.72 9.8 c0 5.64 -3.96 10.16 -9.88 10.16 z M56.97 38.24 c1.96 0 4.36 -1.2 4.36 -5.8 c0 -5.24 -2.84 -9.36 -6.56 -9.36 c-1.92 0 -4.32 1.2 -4.32 5.76 c0 5.28 2.84 9.4 6.52 9.4 z M67.17999999999999 40 c-0.32 0 -0.6 -1.16 -0.28 -1.2 c1.2 -0.16 2.76 -0.76 2.76 -3.52 l0 -9.12 c0 -1.92 -1.04 -2.36 -2.72 -2.56 c-0.32 -0.04 -0.16 -1.08 0.16 -1.16 l6.32 -1.76 c0.48 -0.12 0.68 0.2 0.68 0.56 c0 1.16 0.08 2.56 0.96 2 c1.48 -0.96 3.68 -2.56 5 -2.56 c0.56 0 2 1.16 1.88 1.8 c-0.36 1.92 -0.8 3.32 -1.4 3.32 c-0.2 0 -1.16 -1.04 -3.28 -1.04 c-1.6 0 -3.32 0.48 -3.32 2.56 l0 7.96 c0 2.76 1.12 2.96 4.76 3.52 c0.28 0.04 0.16 1.2 -0.64 1.2 l-10.88 0 z M105.18999999999998 38 c0.2 0.12 0.28 0.4 0.28 0.56 c0 0.84 -3.48 2.08 -5.16 2.08 c-1.28 0 -1.72 -2.52 -2.92 -2 c-1.72 0.76 -4.56 2 -5.92 2 c-4.4 0 -8.28 -3.4 -8.28 -9.24 c0 -5.4 3.36 -10.72 9.8 -10.72 c3.52 0 4.48 1.92 4.48 -0.68 l0 -3.44 c0 -2.88 -0.24 -3.44 -4.2 -3.92 c-0.28 -0.04 -0.2 -1.08 0.08 -1.12 l8.56 -1.6 c0.36 -0.08 0.68 0.2 0.56 0.72 c-0.28 1.28 -0.72 3.68 -0.72 7.32 l0 17.68 c0 3.4 2.88 2 3.44 2.36 z M97.46999999999998 35.68 l0 -9.64 c-0.84 -1.48 -2.4 -2.96 -4.96 -2.96 c-3.4 0 -5 2.36 -5 6.4 c0 5.24 2.84 8.64 5.88 8.64 c1.32 0 4.08 -1.48 4.08 -2.44 z M112.35999999999999 40.64 c-3.24 0 -6.64 -1.32 -6.2 -2.52 l0.64 -1.68 c0.92 -2.44 2.56 1.76 7.04 1.76 c3.88 0 4.4 -2.56 1.32 -4.12 l-5.24 -2.64 c-6.12 -3.08 -4.08 -10.76 3.76 -10.76 c2.96 0 6 1.2 5.52 2.36 l-0.68 1.68 c-0.96 2.4 -2.48 -1.56 -6.44 -1.56 c-3.04 0 -3.6 2.56 -0.8 3.96 l5.44 2.76 c6.4 3.24 4.24 10.76 -4.36 10.76 z M137.45999999999998 40.64 c-5.56 0 -9.72 -4 -9.72 -9.8 c0 -5.64 4 -10.16 9.88 -10.16 c5.56 0 9.72 4 9.72 9.8 c0 5.64 -3.96 10.16 -9.88 10.16 z M138.61999999999998 38.24 c1.96 0 4.36 -1.2 4.36 -5.8 c0 -5.24 -2.84 -9.36 -6.56 -9.36 c-1.92 0 -4.32 1.2 -4.32 5.76 c0 5.28 2.84 9.4 6.52 9.4 z M149.23 40 c-0.32 0 -0.6 -1.2 -0.28 -1.24 c1.2 -0.16 2.72 -0.76 2.72 -2.68 l0 -10.12 c0 -1.48 -0.72 -2.44 -2.88 -2.76 c-0.28 -0.04 -0.28 -1.8 0 -1.8 l1.76 0 c0.76 0 1.12 -0.2 1.12 -0.92 l0 -1.36 c0 -5.4 5.64 -9.8 10.44 -9.8 c0.8 0 2 1.12 1.88 1.8 c-0.32 1.84 -0.8 3.2 -1.36 3.2 c-0.32 0 -1.2 -1.04 -3.44 -1.04 c-1.4 0 -3.24 0.44 -3.24 3.52 l0 3.28 c0 1 0.68 1.32 1.64 1.32 l4.28 0 c1 0 0.56 3.32 -0.76 3.12 l-0.92 -0.16 c-3.48 -0.52 -4.24 -0.04 -4.24 1.6 l0 9.32 c0 2.72 1.52 3.08 4.2 3.48 c0.28 0.04 0.04 1.24 -0.24 1.24 l-10.68 0 z M201.29 21.4 c0.52 0 0.52 1.28 0.04 1.44 c-1.16 0.36 -2.36 1.52 -3.52 4.32 l-3.76 9 c-0.8 1.88 -1.16 2.92 -1.4 3.92 l-2.32 0.4 l-5.04 -12.24 l-3.32 7.92 c-0.8 1.88 -1.16 2.92 -1.4 3.92 l-2.32 0.4 l-5.44 -13.32 c-1.24 -3 -2.4 -4 -3.56 -4.32 c-0.48 -0.12 -0.48 -1.44 0.04 -1.44 l7.88 0 c0.56 0 0.56 1.24 0.04 1.44 c-0.84 0.32 -0.92 1.64 0.12 4.32 l2.96 7.6 l3.88 -9.28 c-0.76 -1.72 -1.36 -2.52 -2.64 -2.64 c-0.48 -0.04 -0.52 -1.44 0.04 -1.44 l7.64 0 c0.56 0 0.56 1.2 0.04 1.44 c-0.84 0.4 -0.88 1.64 0.16 4.32 l2.96 7.56 l3.08 -7.56 c1.16 -2.84 1 -4.12 -0.8 -4.32 c-0.44 -0.04 -0.44 -1.44 0.04 -1.44 l6.6 0 z M212.26 40.64 c-5.56 0 -9.72 -4 -9.72 -9.8 c0 -5.64 4 -10.16 9.88 -10.16 c5.56 0 9.72 4 9.72 9.8 c0 5.64 -3.96 10.16 -9.88 10.16 z M213.42 38.24 c1.96 0 4.36 -1.2 4.36 -5.8 c0 -5.24 -2.84 -9.36 -6.56 -9.36 c-1.92 0 -4.32 1.2 -4.32 5.76 c0 5.28 2.84 9.4 6.52 9.4 z M223.62999999999997 40 c-0.32 0 -0.6 -1.16 -0.28 -1.2 c1.2 -0.16 2.76 -0.72 2.76 -3.04 l0 -9.6 c0 -1.92 -1.04 -2.36 -2.72 -2.56 c-0.32 -0.04 -0.16 -1.08 0.16 -1.16 l6.32 -1.76 c0.48 -0.12 0.68 0.2 0.68 0.6 c0 1.12 0.32 1.52 0.96 1.28 c1.96 -0.72 3.84 -1.88 6.24 -1.88 c3.92 0 5.28 3 5.28 5.6 l0 9.48 c0 2.32 1.56 2.88 2.76 3.04 c0.32 0.04 0.04 1.2 -0.24 1.2 l-8.92 0 c-0.28 0 -0.48 -1.16 -0.24 -1.2 c1.52 -0.24 2.36 -0.92 2.36 -3.04 l0 -7.68 c0 -3.36 -1.64 -4.12 -4.2 -4.12 c-1.72 0 -4.16 0.48 -4.16 1.52 l0 10.28 c0 2.12 1.08 2.84 2.56 3.04 c0.28 0.04 0.04 1.2 -0.28 1.2 l-9.04 0 z M269 38 c0.2 0.12 0.28 0.4 0.28 0.56 c0 0.84 -3.48 2.08 -5.16 2.08 c-1.28 0 -1.72 -2.52 -2.92 -2 c-1.72 0.76 -4.56 2 -5.92 2 c-4.4 0 -8.28 -3.4 -8.28 -9.24 c0 -5.4 3.36 -10.72 9.8 -10.72 c3.52 0 4.48 1.92 4.48 -0.68 l0 -3.44 c0 -2.88 -0.24 -3.44 -4.2 -3.92 c-0.28 -0.04 -0.2 -1.08 0.08 -1.12 l8.56 -1.6 c0.36 -0.08 0.68 0.2 0.56 0.72 c-0.28 1.28 -0.72 3.68 -0.72 7.32 l0 17.68 c0 3.4 2.88 2 3.44 2.36 z M261.28 35.68 l0 -9.64 c-0.84 -1.48 -2.4 -2.96 -4.96 -2.96 c-3.4 0 -5 2.36 -5 6.4 c0 5.24 2.84 8.64 5.88 8.64 c1.32 0 4.08 -1.48 4.08 -2.44 z M286.09000000000003 36.92 c0.36 -0.08 0.68 1 0.44 1.12 c-1.56 0.76 -4.8 2.6 -5.56 2.6 c-4.92 0 -11.24 -2.32 -11.24 -9.4 c0 -4.76 2.92 -10.56 10.08 -10.56 c6.04 0 6.8 4.32 6.8 6 c0 1.04 -0.32 2.6 -0.72 3.52 l-11.88 0.32 c0.76 4.96 4.8 7.04 7.96 7.04 c0.36 0 2.08 -0.2 4.12 -0.64 z M278.41 23.24 c-3.16 0 -4.4 2.16 -4.52 5.2 l8.68 -0.28 c0.4 -2.16 -0.64 -4.92 -4.16 -4.92 z M288.3 40 c-0.32 0 -0.6 -1.16 -0.28 -1.2 c1.2 -0.16 2.76 -0.76 2.76 -3.52 l0 -9.12 c0 -1.92 -1.04 -2.36 -2.72 -2.56 c-0.32 -0.04 -0.16 -1.08 0.16 -1.16 l6.32 -1.76 c0.48 -0.12 0.68 0.2 0.68 0.56 c0 1.16 0.08 2.56 0.96 2 c1.48 -0.96 3.68 -2.56 5 -2.56 c0.56 0 2 1.16 1.88 1.8 c-0.36 1.92 -0.8 3.32 -1.4 3.32 c-0.2 0 -1.16 -1.04 -3.28 -1.04 c-1.6 0 -3.32 0.48 -3.32 2.56 l0 7.96 c0 2.76 1.12 2.96 4.76 3.52 c0.28 0.04 0.16 1.2 -0.64 1.2 l-10.88 0 z" />
    </g>
  </svg>
  
</header>
  <div className='bg-white p-4 '>
  <form onSubmit={onSubmit}>
  <h1 className="text-2xl font-semibold mb-4 text-black">Word Analyzer</h1>
  <div className="mb-4">
    <label
      htmlFor="originalTxt"
      className="block text-sm font-medium text-gray-600"
    >
      Scrambled Wordie
    </label>
    <input
      type="text"
      placeholder="ABCJDK"
      name='word'
      id="originalTxt"
      className="mt-1 p-2 block w-full border rounded-md text-black"
    />
  </div>
  <button
    className="bg-blue-500 text-white px-4 py-2 rounded-md"
  >
    Find Similiarity
  </button>
  </form>
   
  <div className="mt-4" id="shortenedUrlContainer" style={{ display: (result ? 'block':'none') }}>
  <Accordion className='mt-5'>
  {Object.entries(words).map((item, index) => (

<AccordionItem key={index} aria-label={item[0] + " Letters"} title={item[0] + " Letters"} className='text-black p-3 justify-center'>
<div className="grid grid-cols-4 lg:grid-cols-4 md:grid-cols-4 sm:grid-cols-1 gap-2 content-around">
  {item[1].map((data:string, num:number) => (
<div className="flex gap-1 w-fit" key={num}>

{data.toLocaleUpperCase().split('').map((char, ind) => (
        <div key={ind} className="h-12 w-12 sm:w-14 sm:h-14 grid place-items-center p-0 m-0 font-bold text-2xl rounded-sm text-black border-2 border-gray-300">{char}</div>
      ))}
</div>
  ))}
  </div>
</AccordionItem>
    ))}
    </Accordion>
  </div></div>
</div></div>
    </main>
  )
}
